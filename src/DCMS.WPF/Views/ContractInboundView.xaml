<UserControl x:Class="DCMS.WPF.Views.ContractInboundView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:controls="clr-namespace:DCMS.WPF.Controls"
             mc:Ignorable="d" 
             FlowDirection="RightToLeft"
             d:DesignHeight="800" d:DesignWidth="900">

    <Grid Background="#F5F5F5">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="White" Padding="30,20" 
                BorderBrush="#E0E0E0" BorderThickness="0,0,0,1">
            <StackPanel>
                <TextBlock Text="ðŸ“‹ ØªØ³Ø¬ÙŠÙ„ Ø¹Ù‚Ø¯ Ø¬Ø¯ÙŠØ¯" 
                           FontSize="28" 
                           FontWeight="Bold" 
                           Foreground="#2196F3"/>
                <TextBlock Text="Ø£Ø¯Ø®Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø¹Ù‚Ø¯ ÙˆØ£Ø·Ø±Ø§Ù Ø§Ù„ØªØ¹Ø§Ù‚Ø¯" 
                           FontSize="14" 
                           Foreground="#757575"
                           Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Form -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <Border Background="White" 
                    Margin="30" 
                    Padding="30" 
                    CornerRadius="10">
                <Border.Effect>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="0" Opacity="0.1"/>
                </Border.Effect>

                <StackPanel MaxWidth="800">
                    
                    <!-- Section: Contract Info -->
                    <TextBlock Text="Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ù‚Ø¯" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Foreground="#2196F3"
                               Margin="0,0,0,15"/>

                    <!-- Project Name -->
                    <TextBlock Text="Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ / Ø§Ù„Ø¹Ù‚Ø¯" FontSize="14" FontWeight="Bold" Foreground="#555" Margin="0,0,0,5"/>
                    <TextBox Text="{Binding ProjectName, UpdateSourceTrigger=PropertyChanged}" Height="40" Padding="10" FontSize="14" Margin="0,0,0,15" BorderBrush="#DDD"/>

                    <!-- Contract Type -->
                    <TextBlock Text="Ù†ÙˆØ¹ Ø§Ù„Ø¹Ù‚Ø¯" FontSize="14" FontWeight="Bold" Foreground="#555" Margin="0,0,0,5"/>
                    <ComboBox SelectedItem="{Binding SelectedContractType}" Height="40" FontSize="14" Margin="0,0,0,15">
                        <ComboBoxItem Content="NDA" Tag="NDA"/>
                        <ComboBoxItem Content="MOU" Tag="MOU"/>
                        <ComboBoxItem Content="JV Agreement" Tag="JVAgreement"/>
                        <ComboBoxItem Content="Consortium Agreement" Tag="ConsortiumAgreement"/>
                        <ComboBoxItem Content="Prepaid Agreement" Tag="PrepaidAgreement"/>
                        <ComboBoxItem Content="EOI" Tag="EOI"/>
                        <ComboBoxItem Content="LOI" Tag="LOI"/>
                    </ComboBox>

                    <!-- Signing Date -->
                    <TextBlock Text="ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙˆÙ‚ÙŠØ¹" FontSize="14" FontWeight="Bold" Foreground="#555" Margin="0,0,0,5"/>
                    <DatePicker SelectedDate="{Binding SigningDate}" Height="40" FontSize="14" Margin="0,0,0,20"/>

                    <Separator Margin="0,10,0,20"/>

                    <!-- Section: Parties -->
                    <TextBlock Text="Ø£Ø·Ø±Ø§Ù Ø§Ù„ØªØ¹Ø§Ù‚Ø¯" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Foreground="#2196F3"
                               Margin="0,0,0,15"/>

                    <!-- Party 1 -->
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" Margin="0,0,10,0">
                            <TextBlock Text="Ø§Ù„Ø·Ø±Ù Ø§Ù„Ø£ÙˆÙ„ (Ø§Ù„Ø§Ø³Ù…)" FontSize="14" FontWeight="Bold" Foreground="#555" Margin="0,0,0,5"/>
                            <TextBox Text="{Binding Party1Name, UpdateSourceTrigger=PropertyChanged}" Height="40" Padding="10" FontSize="14" BorderBrush="#DDD"/>
                        </StackPanel>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Ø§Ù„ØµÙØ©" FontSize="14" FontWeight="Bold" Foreground="#555" Margin="0,0,0,5"/>
                            <TextBox Text="{Binding Party1Role, UpdateSourceTrigger=PropertyChanged}" Height="40" Padding="10" FontSize="14" BorderBrush="#DDD"/>
                        </StackPanel>
                    </Grid>

                    <!-- Party 2 -->
                    <Grid Margin="0,0,0,15">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="2*"/>
                            <ColumnDefinition Width="1*"/>
                        </Grid.ColumnDefinitions>
                        <StackPanel Grid.Column="0" Margin="0,0,10,0">
                            <TextBlock Text="Ø§Ù„Ø·Ø±Ù Ø§Ù„Ø«Ø§Ù†ÙŠ (Ø§Ù„Ø§Ø³Ù…)" FontSize="14" FontWeight="Bold" Foreground="#555" Margin="0,0,0,5"/>
                            <TextBox Text="{Binding Party2Name, UpdateSourceTrigger=PropertyChanged}" Height="40" Padding="10" FontSize="14" BorderBrush="#DDD"/>
                        </StackPanel>
                        <StackPanel Grid.Column="1">
                            <TextBlock Text="Ø§Ù„ØµÙØ©" FontSize="14" FontWeight="Bold" Foreground="#555" Margin="0,0,0,5"/>
                            <TextBox Text="{Binding Party2Role, UpdateSourceTrigger=PropertyChanged}" Height="40" Padding="10" FontSize="14" BorderBrush="#DDD"/>
                        </StackPanel>
                    </Grid>

                    <!-- Add Party Button -->
                    <Button Content="+ Ø¥Ø¶Ø§ÙØ© Ø·Ø±Ù Ø¢Ø®Ø±" Width="150" Height="35" HorizontalAlignment="Right" Background="Transparent" Foreground="#2196F3" BorderBrush="#2196F3" BorderThickness="1" Margin="0,0,0,20"/>

                    <Separator Margin="0,10,0,20"/>

                    <!-- Section: Follow-up -->
                    <TextBlock Text="Ø§Ù„Ù…ØªØ§Ø¨Ø¹Ø© ÙˆØ§Ù„Ø­Ø§Ù„Ø©" 
                               FontSize="18" 
                               FontWeight="Bold" 
                               Foreground="#2196F3"
                               Margin="0,0,0,15"/>

                    <!-- Responsible Engineer -->
                    <TextBlock Text="Ø§Ù„Ù…Ù‡Ù†Ø¯Ø³ Ø§Ù„Ù…Ø³Ø¦ÙˆÙ„" FontSize="14" FontWeight="Bold" Foreground="#555" Margin="0,0,0,5"/>
                    <controls:EngineerSelectorControl DataContext="{Binding ResponsibleEngineerSelector}" Height="250" Margin="0,0,0,15"/>

                    <!-- Transfer To -->
                    <TextBlock Text="ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰" FontSize="14" FontWeight="Bold" Foreground="#555" Margin="0,0,0,5"/>
                    <controls:EngineerSelectorControl DataContext="{Binding TransferredToSelector}" Height="250" Margin="0,0,0,15"/>

                    <!-- Status -->
                    <TextBlock Text="Ø­Ø§Ù„Ø© Ø§Ù„Ø¹Ù‚Ø¯" FontSize="14" FontWeight="Bold" Foreground="#555" Margin="0,0,0,5"/>
                    <ComboBox SelectedItem="{Binding Status}" Height="40" FontSize="14" Margin="0,0,0,15">
                        <ComboBoxItem Content="Ø³Ø§Ø±ÙŠ" IsSelected="True"/>
                        <ComboBoxItem Content="Ù…Ù†ØªÙ‡ÙŠ"/>
                        <ComboBoxItem Content="Ù…Ù„ØºÙŠ"/>
                    </ComboBox>

                    <!-- Notes -->
                    <TextBlock Text="Ù…Ù„Ø§Ø­Ø¸Ø§Øª" FontSize="14" FontWeight="Bold" Foreground="#555" Margin="0,0,0,5"/>
                    <TextBox Text="{Binding Notes, UpdateSourceTrigger=PropertyChanged}" Height="80" Padding="10" FontSize="14" TextWrapping="Wrap" AcceptsReturn="True" Margin="0,0,0,15" BorderBrush="#DDD"/>

                    <!-- Attachment URL -->
                    <TextBlock Text="Ø±Ø§Ø¨Ø· Ù†Ø³Ø®Ø© Ø§Ù„Ø¹Ù‚Ø¯ (PDF)" FontSize="14" FontWeight="Bold" Foreground="#555" Margin="0,0,0,5"/>
                    <TextBox Text="{Binding AttachmentUrl, UpdateSourceTrigger=PropertyChanged}" Height="40" Padding="10" FontSize="14" Margin="0,0,0,30" BorderBrush="#DDD"/>

                    <!-- Action Buttons -->
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                        <Button Content="ðŸ’¾ Ø­ÙØ¸ Ø§Ù„Ø¹Ù‚Ø¯" Command="{Binding SaveCommand}" Width="150" Height="50" Background="#2196F3" Foreground="White" BorderThickness="0" FontSize="16" FontWeight="Bold" Cursor="Hand" Margin="0,0,15,0">
                            <Button.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="5"/>
                                </Style>
                            </Button.Resources>
                        </Button>

                        <Button Content="ðŸ”„ Ù…Ø³Ø­" Command="{Binding ClearCommand}" Width="150" Height="50" Background="#757575" Foreground="White" BorderThickness="0" FontSize="16" FontWeight="Bold" Cursor="Hand">
                            <Button.Resources>
                                <Style TargetType="Border">
                                    <Setter Property="CornerRadius" Value="5"/>
                                </Style>
                            </Button.Resources>
                        </Button>
                    </StackPanel>

                    <!-- Loading Indicator -->
                    <ProgressBar IsIndeterminate="True" Height="3" Margin="0,20,0,0" Visibility="{Binding IsSaving, Converter={StaticResource BoolToVisConverter}}"/>
                </StackPanel>
            </Border>
        </ScrollViewer>
    </Grid>
</UserControl>
